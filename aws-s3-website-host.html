<!DOCTYPE html>
<html lang="en"> 
<head>
    <title>Thirumal - AWS</title>
    
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="Host a website in AWS S3">
    <meta name="author" content="Thirumal">    
    <link rel="shortcut icon" href="favicon.ico"> 
    
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
    
    <!-- FontAwesome JS-->
    <script defer src="assets/fontawesome/js/all.min.js"></script>
    
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.2/styles/atom-one-dark.min.css">

    <!-- Theme CSS -->  
    <link id="theme-style" rel="stylesheet" href="assets/css/theme.css">

</head> 

<body class="docs-page">    
    <header class="header fixed-top">	    
        <div class="branding docs-branding">
            <div class="container-fluid position-relative py-2">
                <div class="docs-logo-wrapper">
					<button id="docs-sidebar-toggler" class="docs-sidebar-toggler docs-sidebar-visible mr-2 d-xl-none" type="button">
	                    <span></span>
	                    <span></span>
	                    <span></span>
	                </button>
	                <div class="site-logo"><a class="navbar-brand" href="index.html"><img class="logo-icon mr-2" src="assets/images/coderdocs-logo.svg" alt="logo"><span class="logo-text">Thirumal<span class="text-alt"> AWS Docs</span></span></a></div>    
                </div><!--//docs-logo-wrapper-->
	            <div class="docs-top-utilities d-flex justify-content-end align-items-center">
	                <div class="top-search-box d-none d-lg-flex">
		                <form class="search-form">
				            <input type="text" placeholder="Search the docs..." name="search" class="form-control search-input">
				            <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i></button>
				        </form>
	                </div>
	
					<ul class="social-list list-inline mx-md-3 mx-lg-5 mb-0 d-none d-lg-flex">
						<li class="list-inline-item"><a href="https://github.com/M-Thirumal/"><i class="fab fa-github fa-fw"></i></a></li>
			            <li class="list-inline-item"><a href="https://twitter.com/_thirumal"><i class="fab fa-twitter fa-fw"></i></a></li>
		                <li class="list-inline-item"><a href="#"><i class="fab fa-slack fa-fw"></i></a></li>
		                <li class="list-inline-item"><a href="#"><i class="fab fa-product-hunt fa-fw"></i></a></li>
		            </ul><!--//social-list-->
		            <!-- <a href="https://themes.3rdwavemedia.com/bootstrap-templates/startup/coderdocs-free-bootstrap-4-documentation-template-for-software-projects/" class="btn btn-primary d-none d-lg-flex">Download</a> -->
	            </div><!--//docs-top-utilities-->
            </div><!--//container-->
        </div><!--//branding-->
    </header><!--//header-->
    
    <div class="docs-wrapper">
	    <div id="docs-sidebar" class="docs-sidebar">
		    <div class="top-search-box d-lg-none p-3">
                <form class="search-form">
		            <input type="text" placeholder="Search the docs..." name="search" class="form-control search-input">
		            <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i></button>
		        </form>
            </div>
		    <nav id="docs-nav" class="docs-nav navbar">
			    <ul class="section-items list-unstyled nav flex-column pb-3">
				    <li class="nav-item section-title"><a class="nav-link scrollto active" href="#section-1"><span class="theme-icon-holder mr-2"><i class="fas fa-map-signs"></i></span>Introduction</a></li>
				    <li class="nav-item section-title mt-3"><a class="nav-link scrollto" href="#section-2"><span class="theme-icon-holder mr-2"><i class="fas fa-arrow-down"></i></span>Create Buckets</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-2-1">Create www & non-www</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-2-2">Redirect non-www to www</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-2-3">Upload files to bucket</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-2-4">Make www bucket public</a></li>
				    <li class="nav-item section-title mt-3"><a class="nav-link scrollto" href="#section-3"><span class="theme-icon-holder mr-2"><i class="fas fa-box"></i></span>Set up Route 53</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-3-1">Create hosted zone</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-3-2">Add NameServer</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-3-3">Create A record</a></li>
				    <li class="nav-item section-title mt-3"><a class="nav-link scrollto" href="#section-4"><span class="theme-icon-holder mr-2"><i class="fas fa-cogs"></i></span>Certificate Manager</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-4-1">Certificate in N-Virginia</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-4-2">Import certificate</a></li>
				    <li class="nav-item section-title mt-3"><a class="nav-link scrollto" href="#section-5"><span class="theme-icon-holder mr-2"><i class="fas fa-tools"></i></span>Set up Cloud Front</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-5-1">Create Distribution</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-5-2">Add Origin Domain name</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-5-3">Redirect HTTP to HTTPS</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-5-4">Select SSL Certificate</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-5-5">CNAME in Route53</a></li>
					<li class="nav-item section-title mt-3"><a class="nav-link scrollto" href="#section-6"><span class="theme-icon-holder mr-2"><i class="fas fa-tools"></i></span>FAQ</a></li>
			    </ul>

		    </nav><!--//docs-nav-->
	    </div><!--//docs-sidebar-->
	    <div class="docs-content">
		    <div class="container">
			    <article class="docs-article" id="section-1">
				    <header class="docs-header">
					    <h1 class="docs-heading">Introduction <span class="docs-time">Last updated: 2020-08-03</span></h1>
					    <section class="docs-intro">
							<p>The following type of websites are possible to host in Amazon S3</p>
							<ol>
								<li>Static Website</li>
								<li>Angular single page application</li>
								<li>React single page application</li>
							</ol>
						</section><!--//docs-intro-->	
						
					</header>
			    </article>
				   
			    
			    <article class="docs-article" id="section-2">
				    <header class="docs-header">
					    <h1 class="docs-heading">Create Buckets</h1>
					    <section class="docs-intro">
						    <p>A bucket is a container or a web accessible folder for objects stored in Amazon S3. And this bucket names are unique globally.  So, any object URL in an S3 bucket is accessible over the internet with a unique URL, generally structured like this:

								<code>https://[region].s3.amazonaws.com/[bucket]</code></p>
						</section><!--//docs-intro-->
				    </header>
				     <section class="docs-section" id="item-2-1">
						<h2 class="section-heading">Create two S3 bucket with your domain name (www and non-www)</h2>
						<ol>
							<li>example.com</li>   
							<li>www.example.com</li>
						</ol>
						<img src="assets/images/aws/create-bucket.png"/>
					</section><!--//section-->
					
					<section class="docs-section" id="item-2-2">
						<h2 class="section-heading">Re-direct non-www bucket to www bucket</h2>
						<img src="assets/images/aws/redirect_to_www.png" width="1050" height="500"/>
					</section><!--//section-->
					
					<section class="docs-section" id="item-2-3">
						<h2 class="section-heading">Upload static files to bucket</h2>
						<p style="margin-left: 40px">Upload all your web content files to www bucket</p>
					</section><!--//section-->

					<section class="docs-section" id="item-2-4">
						<h2 class="section-heading">Make WWW bucket public</h2>
						<p>To make bucket public Go to -> Permission -> Un-check "Block All" public access</p>
						<img src="assets/images/aws/make_public_access.png" width="1050" height="500"/>
						<br/>	<br/>	<br/>
						<p>Next, add the policy to the bucket in <a href="#bucket-policy" class="btn btn-light">Bucket policy</a></p>
						<pre id = "bucket-policy" class="shadow-lg rounded">
							<code class="html">
{
	"Version": "2012-10-17",
	"Statement": [
		{
			"Sid": "PublicReadGetObject",
			"Effect":"Allow",
			"Principal": "*",
			"Action": "s3:GetObject",
			"Resource": "arn:aws:s3:::www.example.com/*"
		}
	]
}</code>
						</pre>
						<img src="assets/images/aws/bucket_public_policy.png" width="1050" height="500"/>
					</section><!--//section-->
			    </article><!--//docs-article-->
			    
			    
			    <article class="docs-article" id="section-3">
				    <header class="docs-header">
					    <h1 class="docs-heading"></h1>
					    <section class="docs-intro">
						    <p>Create AWS route53 public hosted zone</p>
						</section><!--//docs-intro-->
				    </header>
				     <section class="docs-section" id="item-3-1">
						<h2 class="section-heading">Create hosted Zone</h2>
						<p>Create AWS route53 public hosted zone with the same name as the domain name (Non-WWW).</p>
						<img src="assets/images/aws/create_hosted_zone.png"/>
					</section><!--//section-->
					
					<section class="docs-section" id="item-3-2">
						<h2 class="section-heading">Add Nameserver</h2>
						<p>Copy the name server from AWS and Update it in GoDaddy NS [without ending dot(.)].</p>
						<img src="assets/images/aws/nameserver.png" width="1050"/>
					</section><!--//section-->
					
					<section class="docs-section" id="item-3-3">
						<h2 class="section-heading">Create "A" Record</h2>
						<p>Create A Type recordset for the non-www domain</p>		
						<ol>
							<li>Click on "Create Record" -> "Simple Routing" -> "Define simple record"</li>
							<li>Alias to S3 website endpoint,</li>
							<li>Select the region of your bucket</li>
							<li>Select your S3 main bucket (i.e non-www domain)</li>
						</ol>
						<img src="assets/images/aws/non-www_A_record.png"/>
						<p>Create A Type recordset for www subdomain</p>
						<ol>
							<li>Alias to S3 website endpoint,</li>
							<li>Select the region of your bucket</li>
							<li>Select your S3 www bucket (i.e www domain)</li>
						</ol>
						<img src="assets/images/aws/www_A_record.png"/>
						<br>
						<p>Go to your browser and access the website</p>
					</section><!--//section-->
			    </article><!--//docs-article-->
			    
			    <article class="docs-article" id="section-4">
				    <header class="docs-header">
					    <h1 class="docs-heading">Create Manager</h1>
					    <section class="docs-intro">
							<p>Generate free <code>TLS</code> using <a href="tls/lets-encrypt.html"> Let's Encrypt</a> & add (Let's Encrypt) TLS certificates in the AWS Certificate Manager</p>
						</section><!--//docs-intro-->
				    </header>
				     <section class="docs-section" id="item-4-1">
						<h2 class="section-heading">Create Certificate in N-Virginia</h2>
						<p>Import certificates in <code>N-Virginia region</code> </p>
						<img src="tls/img/certificate_manager.png"width="1050" height="550"/>
					</section><!--//section-->
					
					<section class="docs-section" id="item-4-2">
						<h2 class="section-heading">Import Certificate</h2>
						<ul>
							<li>Go to AWS Certificate Manager <code>Import a certificate</code></li>
							<li>Add the content of <code>cert.pem</code> to Certificate body. Use <code>cat cert.pem</code> in terminal to print the content of <code>pem</code> file</li>
							<li>Add the content of <code>privkey.pem</code> to Certificate private key</li>
							<li>Add the content of <code>chain.pem</code> to Certificate chain</li>
						</ul>
						<img src="tls/img/import_pem_to_certificate_mananger.png"width="1050" height="550"/>
						<img src="tls/img/import_success.png"width="1050" height="550"/>
					</section><!--//section-->
					
			    </article><!--//docs-article-->
			    
			    <article class="docs-article" id="section-5">
				    <header class="docs-header">
					    <h1 class="docs-heading">Set up Cloud Front</h1>
					    <section class="docs-intro">
							<p>Set up Cloud Front for S3 static web site</p>
							<img src="aws/img/concept.png"/>
						</section><!--//docs-intro-->
				    </header>
				     <section class="docs-section" id="item-5-1">
						<h2 class="section-heading">Create Distribution</h2>
						<ol>
							<li>Go to Cloud Front and select <code>Create distribution</code> and again select <code>Get Started</code> under <code>Web</code>.</li>
							<li>Copy the end point from <code>www domain name</code>S3 bucket (Caution: Don't select the auto-select option) and add to<code>Origin Domain name</code></li>
						</ol>
						<img src="aws/img/create_distribution.png"width="1050" height="550"/>
						<img src="aws/img/copy_www_end_point.png"width="1050" height="550"/>
					</section><!--//section-->
					
					<section class="docs-section" id="item-5-2">
						<h2 class="section-heading">Add Origin Domain Name</h2>
						<p>Paste the S3 WWW bucket end point in <code>Origin Domain Name</code></p>
						<img src="aws/img/create_distribution_1.png"/>
					</section><!--//section-->
					
					<section class="docs-section" id="item-5-3">
						<h2 class="section-heading">Re-direct HTTPS to HTTP</h2>
						<p>In <code>Default Cache Behavior Settings -> Viewer Protocol policy</code>  select <code>Redirect HTTP to HTTPS</code></p>
					</section><!--//section-->

					<section class="docs-section" id="item-5-4">
						<h2 class="section-heading">Select SSL Certificate</h2>
						<ul>
							<li>In <code>Distribution Settings</code> add <code>Alternate Domain Names (CNAMEs)</code> ==> <code>www.example.com</code></li>
							<li>In <code>SSL Certificate</code> select <code>Custom SSL Certificate (example.com)</code> and select the <code>imported certificate</code> from the <code>Certificate Manager</code></li>
						</ul>
						<img src="aws/img/create_distribution_1.png"width="1050" height="450"/>
						<img src="aws/img/create_distribution_2.png"width="1050" height="550"/>
					</br></br>
						<p>Leave everything with default configuration & create</p>
					</section><!--//section-->

					<section class="docs-section" id="item-5-5">
						<h2 class="section-heading">Add C-Name in Route 53</h2>
						<p>Point Domain to CloudFront</p>
						<ol>
							<li>
								Copy the <code>Domain Name </code>that is displayed in the row after create
							</li>
							<li>Add that as <code>CNAME</code> in Route53</li>
						</ol>
						<img src="aws/img/copy_cloud_front_domain_name.png"width="1050" height="550"/>
						<img src="aws/img/add_cloud_front_domain_name_to_route_53.png"width="1050" height="550"/>
						<img src="aws/img/final_record_list_with_cname.png"width="1050" height="550"/>
					</section><!--//section-->
			    </article><!--//docs-article-->
			    
			    
			    
			    
			    <article class="docs-article" id="section-6">
				    <header class="docs-header">
					    <h1 class="docs-heading">FAQs</h1>
					    <section class="docs-intro">
						    <p></p>
						</section><!--//docs-intro-->
				    </header>
				     <section class="docs-section" id="item-6-1">
						<h5 class="pt-3"><i class="fas fa-question-circle mr-1"></i>Expected error</h5>
						<p>Key is not found will be in the origin path. Solution Clear/remove origin path</p>
					</section><!--//section-->
			    </article><!--//docs-article-->

			    <footer class="footer">
				    <div class="container text-center py-5">
					    <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
				        <small class="copyright">Document for Everyone by <a class="theme-link" href="http://themes.3rdwavemedia.com" target="_blank">Thirumal</a></small>
				        <ul class="social-list list-unstyled pt-4 mb-0">
						    <li class="list-inline-item"><a href="#"><i class="fab fa-github fa-fw"></i></a></li> 
				            <li class="list-inline-item"><a href="#"><i class="fab fa-twitter fa-fw"></i></a></li>
				            <li class="list-inline-item"><a href="#"><i class="fab fa-slack fa-fw"></i></a></li>
				            <li class="list-inline-item"><a href="#"><i class="fab fa-product-hunt fa-fw"></i></a></li>
				            <li class="list-inline-item"><a href="#"><i class="fab fa-facebook-f fa-fw"></i></a></li>
				            <li class="list-inline-item"><a href="#"><i class="fab fa-instagram fa-fw"></i></a></li>
				        </ul><!--//social-list-->
				    </div>
			    </footer>
		    </div> 
	    </div>
    </div><!--//docs-wrapper-->
    
   
       
    <!-- Javascript -->          
    <script src="assets/plugins/jquery-3.4.1.min.js"></script>
    <script src="assets/plugins/popper.min.js"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>  
    
    
    <!-- Page Specific JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
    <script src="assets/js/highlight-custom.js"></script> 
    <script src="assets/plugins/jquery.scrollTo.min.js"></script>
    <script src="assets/plugins/lightbox/dist/ekko-lightbox.min.js"></script> 
    <script src="assets/js/docs.js"></script> 

</body>
</html> 

